(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{38:function(e,t,o){},40:function(e,t,o){},64:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o(1),a=o(30),s=o.n(a),r=o(13),i=(o(38),o(9)),d=o(10),l=o(12),u=o(11),h=o(2),b=(o(39),o(40),o(3)),j=o(31),g=o.n(j).a.create({baseURL:"http://todo-app-nodejs-mysql.herokuapp.com/api",headers:{"Content-type":"application/json"}}),p=new(function(){function e(){Object(i.a)(this,e)}return Object(d.a)(e,[{key:"getAll",value:function(){return g.get("/todos")}},{key:"get",value:function(e){return g.get("/todos/".concat(e))}},{key:"create",value:function(e){return g.post("/todos",e)}},{key:"update",value:function(e,t){return g.put("/todos/".concat(e),t)}},{key:"delete",value:function(e){return g.delete("/todos/".concat(e))}},{key:"deleteAll",value:function(){return g.delete("/todos")}},{key:"findByCategory",value:function(e){return g.get("/todos?category=".concat(e))}}]),e}()),v=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).onChangeCategory=n.onChangeCategory.bind(Object(b.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(b.a)(n)),n.saveTodo=n.saveTodo.bind(Object(b.a)(n)),n.newTodo=n.newTodo.bind(Object(b.a)(n)),n.state={id:null,category:"",description:"",published:!1,submitted:!1},n}return Object(d.a)(o,[{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveTodo",value:function(){var e=this,t={category:this.state.category,description:this.state.description};p.create(t).then((function(t){e.setState({id:t.data.id,category:t.data.category,description:t.data.description,published:t.data.published,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTodo",value:function(){this.setState({id:null,category:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Todo submitted successfully!"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:this.newTodo,children:"Add"})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"category",children:"Category"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"category",required:!0,value:this.state.category,onChange:this.onChangeCategory,name:"category"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(n.jsx)("button",{onClick:this.saveTodo,className:"btn btn-success",children:"Submit"})]})})}}]),o}(c.Component),O=o(15),m=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).onChangeCategory=n.onChangeCategory.bind(Object(b.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(b.a)(n)),n.getTodo=n.getTodo.bind(Object(b.a)(n)),n.updatePublished=n.updatePublished.bind(Object(b.a)(n)),n.updateTodo=n.updateTodo.bind(Object(b.a)(n)),n.deleteTodo=n.deleteTodo.bind(Object(b.a)(n)),n.state={currentTodo:{id:null,category:"",description:"",published:!1},message:""},n}return Object(d.a)(o,[{key:"componentDidMount",value:function(){this.getTodo(this.props.match.params.id)}},{key:"onChangeCategory",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTodo:Object(O.a)(Object(O.a)({},e.currentTodo),{},{category:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTodo:Object(O.a)(Object(O.a)({},e.currentTodo),{},{description:t})}}))}},{key:"getTodo",value:function(e){var t=this;p.get(e).then((function(e){t.setState({currentTodo:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,o={id:this.state.currentTodo.id,category:this.state.currentTodo.category,description:this.state.currentTodo.description,published:e};p.update(this.state.currentTodo.id,o).then((function(o){t.setState((function(t){return{currentTodo:Object(O.a)(Object(O.a)({},t.currentTodo),{},{published:e})}})),console.log(o.data)})).catch((function(e){console.log(e)}))}},{key:"updateTodo",value:function(){var e=this;p.update(this.state.currentTodo.id,this.state.currentTodo).then((function(t){console.log(t.data),e.setState({message:"The todo was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteTodo",value:function(){var e=this;p.delete(this.state.currentTodo.id).then((function(t){console.log(t.data),e.props.history.push("/todos")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentTodo;return Object(n.jsx)("div",{children:t?Object(n.jsxs)("div",{className:"edit-form",children:[Object(n.jsx)("h4",{children:"Todo"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"category",children:"Category"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"category",value:t.category,onChange:this.onChangeCategory})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:this.onChangeDescription})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Status:"})}),t.published?"Completed":"Pending"]})]}),t.published?Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!1)},children:"Mark Incomplete"}):Object(n.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!0)},children:"Mark Complete"}),Object(n.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteTodo,children:"Delete"}),Object(n.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateTodo,children:"Update"}),Object(n.jsx)("p",{children:this.state.message})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Please click on a Todo..."})]})})}}]),o}(c.Component),y=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).onChangeSearchCategory=n.onChangeSearchCategory.bind(Object(b.a)(n)),n.retrieveTodos=n.retrieveTodos.bind(Object(b.a)(n)),n.refreshList=n.refreshList.bind(Object(b.a)(n)),n.setActiveTodo=n.setActiveTodo.bind(Object(b.a)(n)),n.removeAllTodos=n.removeAllTodos.bind(Object(b.a)(n)),n.searchCategory=n.searchCategory.bind(Object(b.a)(n)),n.state={todos:[],currentTodo:null,currentIndex:-1,searchCategory:""},n}return Object(d.a)(o,[{key:"componentDidMount",value:function(){this.retrieveTodos()}},{key:"onChangeSearchCategory",value:function(e){var t=e.target.value;this.setState({searchCategory:t})}},{key:"retrieveTodos",value:function(){var e=this;p.getAll().then((function(t){e.setState({todos:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTodos(),this.setState({currentTodo:null,currentIndex:-1})}},{key:"setActiveTodo",value:function(e,t){this.setState({currentTodo:e,currentIndex:t})}},{key:"removeAllTodos",value:function(){var e=this;p.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchCategory",value:function(){var e=this;p.findByCategory(this.state.searchCategory).then((function(t){e.setState({todos:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,o=t.searchCategory,c=t.todos,a=t.currentTodo,s=t.currentIndex;return Object(n.jsxs)("div",{className:"list row",children:[Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by category",value:o,onChange:this.onChangeSearchCategory}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchCategory,children:"Search"})})]})}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Todos List"}),Object(n.jsx)("ul",{className:"list-group",children:c&&c.map((function(t,o){return Object(n.jsx)("li",{className:"list-group-item "+(o===s?"active":""),onClick:function(){return e.setActiveTodo(t,o)},children:t.category},o)}))}),Object(n.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTodos,children:"Remove All"})]}),Object(n.jsx)("div",{className:"col-md-6",children:a?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Todo"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Category:"})})," ",a.category]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Description:"})})," ",a.description]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Status:"})})," ",a.published?"Completed":"Pending"]}),Object(n.jsx)(r.b,{to:"/todos/"+a.id,className:"badge badge-warning",children:"Edit"})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Please click on a Todo..."})]})})]})}}]),o}(c.Component),f=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(n.jsx)("a",{href:"/todos",className:"navbar-brand",children:"To-do Application"}),Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.b,{to:"/todos",className:"nav-link",children:"Todos"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(n.jsx)("div",{className:"container mt-3",children:Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{exact:!0,path:["/","/todos"],component:y}),Object(n.jsx)(h.a,{exact:!0,path:"/add",component:v}),Object(n.jsx)(h.a,{path:"/todos/:id",component:m})]})})]})}}]),o}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(r.a,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.b8b8f0af.chunk.js.map